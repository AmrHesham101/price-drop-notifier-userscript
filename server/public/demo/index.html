<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Price Drop Notifier - Demo</title>
    <link rel="stylesheet" href="/demo/demo.css" />
  </head>
  <body>
    <header class="demo-header">
      <h1>ðŸ”” Price Drop Notifier Demo</h1>
      <p>CSP-compliant demo page - No inline scripts or styles</p>
    </header>

    <main class="demo-main">
      <section class="demo-info">
        <h2>About This Demo</h2>
        <p>
          This page demonstrates the Price Drop Notifier widget with strict
          Content Security Policy headers:
        </p>
        <ul>
          <li>âœ… No inline scripts (<code>&lt;script&gt;</code> tags)</li>
          <li>âœ… No inline styles (<code>style</code> attributes)</li>
          <li>âœ… External scripts from same origin only</li>
          <li>âœ… External stylesheets from same origin only</li>
        </ul>
      </section>

      <section class="demo-product">
        <h2>Sample Product</h2>

        <!-- Product URL Input -->
        <div class="url-input-section">
          <label for="product-url" class="url-label"
            >Enter a product URL (Amazon/eBay):</label
          >
          <div class="url-input-group">
            <input
              type="url"
              id="product-url"
              class="url-input"
              placeholder="https://www.amazon.com/dp/..."
              value="https://www.amazon.com/Lenovo-Business-Powerful-i7-1065G7-Ethernet/dp/B0FXNW5Y4M"
            />
            <button id="extract-btn" class="extract-btn">Load Product</button>
          </div>
          <div id="extract-status" class="extract-status"></div>
        </div>

        <!-- Product Display -->
        <div class="product-card" id="product-card">
          <div class="product-image">
            <div class="placeholder-image">ðŸ“¦</div>
          </div>
          <div class="product-details">
            <h3 class="product-title" id="product-title">Loading...</h3>
            <p class="product-price" id="product-price">$0.00</p>
            <a href="#" id="product-link" class="product-link" target="_blank"
              >View Product</a
            >
          </div>
        </div>
      </section>

      <section class="demo-widget">
        <h2>Widget Demo</h2>
        <div id="widget-container"></div>
      </section>

      <section class="demo-csp">
        <h2>CSP Details</h2>
        <pre class="csp-header"><code>Content-Security-Policy:
  default-src 'self';
  script-src 'self';
  style-src 'self';
  connect-src 'self';
  img-src 'self' data:;
  font-src 'self';
  object-src 'none';
  base-uri 'none';</code></pre>
      </section>

      <section class="demo-features">
        <h2>Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ðŸŽ¯</div>
            <h3>Auto-Detection</h3>
            <p>Automatically extracts product info from pages</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ðŸ“§</div>
            <h3>Email Alerts</h3>
            <p>Get notified when prices drop</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ðŸ”’</div>
            <h3>CSP Safe</h3>
            <p>Works with strict security policies</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">âš¡</div>
            <h3>Lightweight</h3>
            <p>Under 4KB minified widget</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="demo-footer">
      <p>Price Drop Notifier - Demo Page</p>
      <p>
        <a href="https://github.com/AmrHesham101/price-drop-notifier-userscript"
          >View on GitHub</a
        >
      </p>
    </footer>

    <!-- Load widget script from same origin (CSP compliant) -->
    <script src="/build/price-drop-widget.min.js"></script>
    <script src="/demo/demo.js"></script>
  </body>
</html>
